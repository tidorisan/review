---
title: "[rails]正規表現について:パート１"
tags: "20200718"
---

[参照サイト: サルでもわかる正規表現](https://userweb.mnet.ne.jp/nakama/)

# [正規表現とは？]

複数の文章があり、それぞれが

-   [犬かもしれないけど猫だよ。]
-   [猫かもしれないけど犬だよ。]
-   [あひるかもしれないけど、犬だよ。]
    のように重複する箇所としない部分がある。
    [〜かもしれないけど〜だよ。]
    この場合、いくつかの文章（文字列）を一つの形で表現することがきる。

        /.*かもしれないけど.*だよ。/

この表現方法を正規表現と言う。
複数の文字列があり、その中で正規表現を用いると完全に一致していない状態でも指定ができるようになる(正規表現で指定できるのでif文などに使用できる。)

# [ルール1]

-   文章に用いるので使用するデータ型は[文字列型]になる。
-   半角入力する

# [正規表現で使用する文字]

.^(ハット・キャレット)$\[]\*+?|(バーティカルバー)()

これらの特殊文字を[メタ文字]と呼ぶ

これらの文字を文字列の一部として使用したい場合は前に＼(バックスラッシュ:macではoption + ¥キー)

. \\^ \\$ \[ ] \* + \\? \| ( )

\\自体は\\と記載する.
半角入力が基本である。

# [メタ文字の種類:使用するメタ文字と意味]

ここからは検索する際に用いることを前提として、その場合この表現がどうなるかを確認していく。

## 1. .(ピリオド)何かを意味する一字

    私は.だ。
    私は鳥だ。　私は馬だ。　など

-   平仮名でも漢字でもなんでも良いが一字のみである。
-   最初に記載した内容は一字のみではないため.は使用できない


    私の..は..だ。

    私のままはははだ。
    私のかみは黄色だ。

    AAA.LOG　の場合は
    AAA\.LOGになる

[ポイント]

-   .なんでも良い一字を指定できる。が。文字数が.の数と一致する必要がある。しない場合は持ちれない。

## 2. ^ $ 行の先頭(^)と最後($)を指定する

    先頭や最後に存在する内容(文字列)を指定して検索する場合に用いる。
    指定しな内容の一致しないものはもってこれない。
    ^は行の先頭を意味する。その後に続く文字列が指定内容。
    &は行の最後を意味する。その前に続く文字列が指定内容


    画像が惜しい
    花束です
    画像がきれいです。

    ^画像　で検索すると

    画像が惜しい
    画像がきれいです。が検索結果になる。

    。＄　で検索すると
    画像がきれいです。が検索結果となる。

    ^花束です$　で検索すると
    花束です　が検索結果となる。

    それぞれのメタ言語を検索したい場合は^^ $$である。
    ^は正規表現の先頭、＄は最後に位置しなければメタ言語として認識されない。

[ポイント]

-   先頭や最後に位置する文字列(文字数の制限なし)を検索する際に一致を指定する表現として用いたい場合に^$を用いる。

## 3. 同じ文字の繰り返し \* + ?

同じ文字の繰り返しを示す正規表現は[ * + ?]の３つがある。

\*は、＊の直前の文字が存在しないか、直前の文字が一つ以上連続する場合を意味する

    うー*まーい	は

    うまーい　うーーまーい　うーーーまーい

\+は最低でも一つ以上直前の文字が存在するものを対象とする。

    おー+iい
    おーい　おーーい　おーーーーい

?は直前のもじが存在しないか、一つだけある場合を指定する。

    mac?
    mac ma

[ポイント]

-   文字数は指定するが内容を指定しない検索.があるけれども、こちらは文字数は必ず一字であり直前の指定した内容が連続するかどうかで判定する。

-   一字限定

-   存在しない　一字以上^

-   存在し一字以上　+

-   存在する　しない　?
