---
title: "[要件書き出し]"
tags: ""
---

[deviseで管理する内容]
会員[顧客]
登録店舗管理者
webアプリ管理者

* * *

# [app内容]

寿司専門店舗検索サイト[検索サイト]+クーポン機能

* * *

* * *

# [フロー]

### [会員フロー]

1.  新規登録・ログイン
2.  現在地から探す・キーワードで探す[対応する店舗]
3.  一覧から一つ選んで詳細をする
4.  [予約する場合は]電話予約する

-   #### [退会する場合]

1.  ログイン
2.  退会ボタンをおす

### [登録店舗管理者]

1.  新規登録・ログイン
2.  店舗登録する[店舗情報・商品などデータを登録する]

-   #### [退会する場合]

1.  ログイン
2.  退会ボタンをおす

### [webアプリ管理者]

1.  ログインする
2.  サイトの情報の登録・編集など[会員状態や店舗状態をチェックする]

* * *

* * *

# [実装機能]

## 会員[顧客]側実装機能

-   顧客は会員登録、ログイン・ログアウト、退会ができること
    			\-  会員のログインはメールアドレス[会員ID]とパスワードで⾏うこと
      	\- 次回から自動的にログインできるチェックボックスを備える

-   会員がログインしている状態かどうか、ページのヘッダーにユーザ名を表⽰するなどして判断できるようにすること

-   サイトの閲覧はログインなしで⾏えること
    \-　文字検索と地図検索ができる。

-   google map　APIの地図機能で登録店舗の位置が表示されている[簡易なmapを
    top map専門ページも存在する]
    \-　お気に入りで登録した店舗はmapでアイコンが変化する

#### [ログインしないと出来ない事]

-   マイページへのアクセス
-   店舗をお気に入りにする
-   店舗コメントの追加
-   クーポン機能の利用[閲覧ができる]

#### [ログインする事出来る事]

-   マイイページへのアクセス
-   店舗をお気に入りに追加する[マイページで確認できる・タイムライン方式]
-   [店舗にコメントを追加できる]
-   コメント
-   各自が撮影した店内や商品の画像
-   クーポン機能の利用        

[会員情報]

-   email
-   password
-   ニックネーム[口コミ投稿する際に公開される名前][ログイン後にマイページで追加する]
-   アイコン画像[口コミ投稿する際に公開される名前]

[口コミ投稿内容]

-   ニックネーム[どの会員]

-   店舗[どの店舗]

-   画像

-   タイトル

-   内容

-   訪問日[カレンダーからやりたい]

-   投稿の種類[昼・夜・テイクアウト・デリバリー・その他]=>口コミ検索？
    \-　使った金額
    [簡易と詳細に分ける？]

[権限: アクセスできるページの管理]
基本的には利用者画面のみ閲覧可能　
ログインすることで、マイページで自分のアイコン画像変更・店舗にコメントなどをつけることができる。

* * *

* * *

## [店舗管理者]

-   管理者⽤メールアドレスとパスワードでログインできること（管理者⽤メールアドレスとパスワードは事前にデータベースへ登録できていれば良い）
    \-　店舗情報の登録・編集・非表示[店舗複数がある場合]
-   店舗の商品の新規追加、編集、表示停⽌（売切表⽰）が⾏えること

### [店舗情報は下記のものを持つこと]

 (店舗情報)

-   店舗画像
-   店舗名[店名・フリガナ]
-   支店名(店名・フリガナ)

(電話番号・所在地情報)

-   電話番号[予約・お問い合わせのための]
-   住所[都道府県・市町村・番地・ビル名][google map上での地図]

(ジャンル)

\-　ジャンル[寿司・回転寿司・立ち食い寿司]

（(詳細情報入力)）

(予約)

-   予約[予約可・予約不可・完全予約制]
-   予約時の注意事項

(交通手段・営業時間・定休日)

-   交通手段
-   営業時間
-   定休日

(予算・支払い方法)

-   予算[昼・夜][¥999~¥10.000]
-   支払い方法[カード可・不可][電子マネー可・不可]
-   \#サービス料・チャージ

(席・設備)

-   座席数[　数][カウンター10席など追加情報]
-   最大予約可能人数[着席時〜人・立食時~人]
    \-　個室[有無][追加情報]
-   貸し切り[可・不可]
-   禁煙・喫煙[完全禁煙可・分煙・前面禁煙]
-   駐輪場[有無][追加情報]
-   空間・設備[選択式：席が広い・座席あり・無料wi-fiありなど]
-   \#携帯電話(つながる)[docomo・au・softbank・Y!modlie]

(ドリンク)

-   ドリンク[選択肢:日本酒あり・焼酎ありなど]
    \-　料理[選択肢:アレルギー表記なり・英語メニューありなど]

(特徴・関連情報)

-   \#ロケーション[選択肢:景色が綺麗・海が見えるなど]
-   \#サービス[選択肢:ペット可・お祝い・サプライズ可など]
-   \#お子様づれ[子供可・不可][お子様メニューの有無][ベビーカー入店可・不可]
-   \#補足事項
-   \#ドレスコード
    \-　ホームページ
-   \#公式アカウント[facebookなどのurl]
-   \#オープン日[西暦〜年・〜月〜日]
-   備考

(店舗画像)

-   画像[店舗詳細画面で表示する外観・内観・料理など]

(利用者画面での表示の有無)

-   店舗表示ステータス[有効・無効]

-   店舗表示ステータスには「有効」「無効」を設定できること。無効に設定した物は、店舗⼀覧に表⽰されないこと。また、無効になっている店舗に紐付く商品情報は表⽰されないこと。

* * *

### [座席情報は下記のものを持つこと]

-   座席説明[ ~ 人様個室・ ~名様カウンター]
-   画像
-   表示ステータス[有無]
-   店舗id[親要素を指定する]

### [コース情報は下記のものを持つこと]

-   コース名
-   コース料理画像[無しでも登録可能]
-   値段[税抜き]
-   利用可能人数
-   コース内容
-   商品表示ステータス[有効・無効]
-   店舗id[親要素を指定する]

### [商品情報下記のものを持つこと]

-   商品ジャンル[料理・ドリンク]
-   商品画像[無しでも登録可能]
-   商品名
-   商品説明
-   値段[税抜き]
-   商品表示ステータス
-   店舗id[親要素を指定する]


-   クーポン機能を登録できる

-   商品表示ステータスには「有効」「無効」を設定できること。無効に設定した商品は、商品⼀覧に表⽰されないこと。

[権限]

店舗管理者ページのみ閲覧可能
登録店舗情報や商品の編集などを行える
販売ステータス＝＞画面での表示のうむ
ジャンル編集　

* * *

* * *

## webアプリ管理者

-   管理者⽤メールアドレスとパスワードでログインできること（管理者⽤メールアドレスとパスワードは事前にデータベースへ登録できていれば良い）
-   会員・店舗登録管理者に登録されている情報の閲覧、編集、処理が⾏えること

[権限]全てのページを閲覧、編集が可能

* * *

* * *

# [その他実装機能]

## [利用者画面から店舗登録申請〜店舗登録までの流れ][食べログ・ぐるなび参考にして]

1.  利用者画面で店舗登録会員の申請が行えるようにする。dateを入力してformから送信する。

#### [店舗登録会員申請の際に必要な情報]

-   店名[店名・カタカナ]
-   店舗の郵便番号
-   店舗の住所[都道府県・市町村・町番地・ビル名]
-   店舗の電話番号
-   店舗のFAX番号

(お申込様の情報)

-   氏名[性・名][性(カナ)・名(カナ)]
-   生年月日[西暦・月・日]
-   メールアドレス[入力・再入力]
-   役職[店長か社長かなど](店舗経営者)
-   店舗経営者に申請を行う確認を取ったか[はい・いいえ](項目チエック)
-   飲食店営業許可書を取得しているか。[はい・いいえ]
-   反社会的勢力とは一切関係しているか。[はい・いいえ]
-   風営法が適用される業態ではないか[はい・いいえ]

2.  サイト管理者画面で管理者が申請内容を確認する。
    [住所から店舗が本当に存在しているか存在しているか・重複していないかを確認する＝＞不明点は電話を行う]

3.  確認出来たらemailでサイト管理者画面への(url)を送付する。

4.  店舗管理者がurlからアクセスして新規登録し管理者画面へログインする。
    そこで店舗情報や商品情報を入力し投稿する[利用者サイトにも表示されるようになる。]＝＞編集を行いたい場合はフォームで編集を行う。

## [複数店舗の場合]

1.  管理者画面から新規店舗登録画面へアクセスして店舗情報を入力する。

=====
[注意]

-   工程が増えるので注意[優勢度下げる]
-   ネストする内容が増える　currnt_uer.stores[一つ指定する].producutなどになる[url modelでのネストが増える]
-   =====

## [クーポン情報下記のものを持つこと]

-   対象id (メニュー・コースメニュー)
-   割引の理由
-   割引内容
-   クーポン有効ステータス[有効・無効]
-   クーポンのイメージ画像
-   但し書き
-   有効期限[投稿して何日後に表示が消える]


-   クーポン有効ステータス[有効・無効]で表示の有無を管理しています。
-   有効期限でクーポンの有効期限を管理する。

[検索させる]

-   ヘッダには検索窓を配置する
    [top画面]
-   top画面には月の寿司新聞に記載される内容を登録・編集・削除
    \-　top画面には更新されたお店で一番最新の物が自動的に表示される
-   top画面商品の一部が記載されている

## [管理者増える場合]どうするのか？

===
[注意]

-   管理者→確認する　[管理者で新規登録させる]メール＝＞ログイン[aさん５店舗＝＞5mailでやる]＝＞[店舗管理者: 中間テーブル: 店舗]m:n
    新規登録フォームでのネストを表示させる
    view [ 登録店舗の番号　: 追加する]
    別の店舗に生かせないようにする

===
